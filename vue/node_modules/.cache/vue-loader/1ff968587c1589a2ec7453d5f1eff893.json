{"remainingRequest":"F:\\django_project\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\django_project\\vue\\src\\components\\Search.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"F:\\django_project\\vue\\src\\components\\Search.vue","mtime":1539917846595},{"path":"F:\\django_project\\vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"F:\\django_project\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\django_project\\vue\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\django_project\\vue\\node_modules\\sass-loader\\lib\\loader.js","mtime":1533139052000},{"path":"F:\\django_project\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1539064130929},{"path":"F:\\django_project\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  .home {\n\t\tposition:fixed;\n\t\t// background-color: #f8f8f8;\n\t\twidth: 100%;\n\t\t// height: 10%;\n\t\t// height: 10%;\n\t\tline-height: 45px;\n\t\tborder-bottom: 1px solid #e1e1e1;\n\t\ttext-align: center;\n\t\tfloat: left;\n    background-color: #ffffff;\n    border-radius: 5px;\n\t\t// border-radius: 1px;\n    box-shadow: 0px 0px 25px #dcdcdc;\n    margin-bottom: 0px;\n    // padding: 50px;\n\t\tpadding: 10px;\n    overflow: auto;\n\t\t#part1{\n\t\t\talign-content: left;\n\t\t\twidth: 70%;\n\t\t\tfloat: left;\n\t\t\t#search {\n\t\t\t\tmargin-left: 50%;\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\twidth: 640px;\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-around;\n\t\t\t\t#searchInput {\n\t\t\t\t\twidth: 500px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t#searchBottom {\n\t\t\t\twidth: 618px;\n\t\t\t\tpadding: 0 50px;\n\t\t\t\tmargin: 40px auto 20px auto;\n\t\t\t\tborder: 1px solid transparent;\n\t\t\t\t#list {\n\t\t\t\t\tmargin-left: -12px;\n\t\t\t\t\theight: 340px;\n\t\t\t\t\t.el-card {\n\t\t\t\t\t\twidth: 632px;\n\t\t\t\t\t\theight: 50px;\n\t\t\t\t\t\ttext-align: left;\n\t\t\t\t\t\tmargin: 10px 0;\n\t\t\t\t\t\tpadding-left: 10px;\n            .el-card__body{\n              padding:0px;\n\t\t\t\t\t\t\tspan {\n\t\t\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\t}\n            }\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.el-pagination {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t#part2 {\n    width: 13%;\n    float: right;\n    font-size: 40px;\n    color: aquamarine;\n    margin-right: 8%;\n\n}\n  }\n  \n",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Search.vue","sourceRoot":"src\\components","sourcesContent":["<template>\r\n  <div class=\"home\" style=\"position: fixed;\">\r\n    <div id=\"part1\">\r\n\t\t\t<div id=\"search\">\r\n\t\t\t<el-autocomplete\r\n         :value=\"nodename\"\r\n\t\t\t\t\tv-model=\"searchStr\"\r\n\t\t\t\t\t:fetch-suggestions=\"querySearch\"\r\n\t\t\t\t\tplaceholder=\"请输入要搜索的内容\"\r\n\t\t\t\t\t:trigger-on-focus=\"true\"\r\n\t\t\t\t\t@select=\"goToTree\"\r\n\t\t\t\t\tid=\"searchInput\"\r\n          \r\n\t\t\t></el-autocomplete>\r\n\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search\">搜索</el-button>\r\n\t\t\t</div>\r\n\t\t\t<el-collapse-transition>\r\n\t\t\t<div id=\"searchBottom\" v-show=\"showResult\">\r\n\t\t\t\t<div id=\"list\">\r\n\t\t\t\t<el-card shadow=\"hover\" v-for=\"(item, index) in treeData\" v-if=\"isCurrentList(index)\">\r\n\t\t\t\t\t<span @click=\"goToTreeByClick(index)\">{{item[\"value\"]}}</span>\r\n\t\t\t\t</el-card>\r\n\t\t\t\t</div>\r\n\t\t\t\t<el-pagination\r\n\t\t\t\t\t\tbackground\r\n\t\t\t\t\t\tlayout=\"prev, pager, next\"\r\n\t\t\t\t\t\t:page-size=\"pageSize\"\r\n\t\t\t\t\t\t:total=\"listSize\"\r\n\t\t\t\t\t\t@current-change=\"changePage\"\r\n\t\t\t\t>\r\n\t\t\t\t</el-pagination>\r\n\t\t\t</div>\r\n\t\t\t</el-collapse-transition>\r\n\t\t</div>\r\n\t\t<div id=\"part2\">思维导图2.1</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        name: 'search',\r\n        props:[\"nodename\"],\r\n        data() {\r\n            return {\r\n                loading: false,\r\n                searchStr: \"\",\r\n\t\t\t\t\t\t\t\tshowResult: false,\r\n                listSize: 20,\r\n                treeData: {},\r\n                currentPage: 1,\r\n                pageSize: 5\r\n            }\r\n        },\r\n        methods: {\r\n            search: function() {\r\n                if (this.searchStr) {\r\n                    this.showResult = !this.show;\r\n\t\t\t\t\t\t\t\t\t\tthis.$emit(\"update2\");\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"1\");\r\n                    console.log(this.searchStr);\r\n                    console.log(this.nodename);\r\n                    // this.searchStr=\"\";\r\n                    // this.nodename=\"\";\r\n                }\r\n            },\r\n            querySearch: function (queryString, callback) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"2\");\r\n                const context = this;\r\n                fetch(`http://localhost:8001/test_api/2/${context.searchStr}/`, {\r\n                    headers:{\r\n                        'content-type':'application/json'\r\n                    }\r\n                }).then(function(response){\r\n                        response.json().then(function(response) {\r\n                            let result = context.formatTreeData(response);\r\n                            context.treeData = result;\r\n                            context.listSize = result.length;\r\n                            callback(result);\r\n                        });\r\n                    }\r\n                );\r\n            },\r\n            formatTreeData(myData) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"3\");\r\n                let result = [];\r\n                Object.keys(myData).forEach(function (key) {\r\n                    let tempItem = {};\r\n                    let treeBody = myData[key][\"Graph\"][\"tree\"];\r\n                    tempItem[\"tree\"] = treeBody;\r\n                    if (treeBody[\"time\"]) {\r\n                        tempItem[\"value\"] = `${treeBody[\"name\"]} (${treeBody[\"time\"]})`;\r\n                    } else {\r\n                        tempItem[\"value\"] = treeBody[\"name\"];\r\n                    }\r\n                    result.push(tempItem);\r\n                });\r\n                return result;\r\n            },\r\n            isCurrentList: function(index) {\r\n                return (index >= (this.currentPage - 1) * this.pageSize) && (index <= (this.currentPage * this.pageSize) - 1);\r\n            },\r\n            changePage: function(page) {\r\n                this.currentPage = page;\r\n            },\r\n            goToTree: function(item) {\r\n                this.$emit('changeTree', item.tree);\r\n            },\r\n            goToTreeByClick: function (index) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"7\");\r\n\t\t\t\t\t\t\t\tthis.showResult = false;\r\n\t\t\t\t\t\t\t\tthis.$emit('update');\r\n                this.$emit('changeTree', this.treeData[index][\"tree\"]);\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .home {\r\n\t\tposition:fixed;\r\n\t\t// background-color: #f8f8f8;\r\n\t\twidth: 100%;\r\n\t\t// height: 10%;\r\n\t\t// height: 10%;\r\n\t\tline-height: 45px;\r\n\t\tborder-bottom: 1px solid #e1e1e1;\r\n\t\ttext-align: center;\r\n\t\tfloat: left;\r\n    background-color: #ffffff;\r\n    border-radius: 5px;\r\n\t\t// border-radius: 1px;\r\n    box-shadow: 0px 0px 25px #dcdcdc;\r\n    margin-bottom: 0px;\r\n    // padding: 50px;\r\n\t\tpadding: 10px;\r\n    overflow: auto;\r\n\t\t#part1{\r\n\t\t\talign-content: left;\r\n\t\t\twidth: 70%;\r\n\t\t\tfloat: left;\r\n\t\t\t#search {\r\n\t\t\t\tmargin-left: 50%;\r\n\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\twidth: 640px;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-around;\r\n\t\t\t\t#searchInput {\r\n\t\t\t\t\twidth: 500px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t#searchBottom {\r\n\t\t\t\twidth: 618px;\r\n\t\t\t\tpadding: 0 50px;\r\n\t\t\t\tmargin: 40px auto 20px auto;\r\n\t\t\t\tborder: 1px solid transparent;\r\n\t\t\t\t#list {\r\n\t\t\t\t\tmargin-left: -12px;\r\n\t\t\t\t\theight: 340px;\r\n\t\t\t\t\t.el-card {\r\n\t\t\t\t\t\twidth: 632px;\r\n\t\t\t\t\t\theight: 50px;\r\n\t\t\t\t\t\ttext-align: left;\r\n\t\t\t\t\t\tmargin: 10px 0;\r\n\t\t\t\t\t\tpadding-left: 10px;\r\n            .el-card__body{\r\n              padding:0px;\r\n\t\t\t\t\t\t\tspan {\r\n\t\t\t\t\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\t\t\t}\r\n            }\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.el-pagination {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t#part2 {\r\n    width: 13%;\r\n    float: right;\r\n    font-size: 40px;\r\n    color: aquamarine;\r\n    margin-right: 8%;\r\n\r\n}\r\n  }\r\n  \r\n</style>\r\n"]}]}